<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ·±æ‹·è´</title>
    <style></style>
  </head>
  <body>
    <script>
      /*
        æµ…æ‹·è´ï¼šåªå¤åˆ¶æŒ‡é’ˆï¼Œæ²¡æœ‰å¤åˆ¶å®é™…æ•°æ®
        æ·±æ‹·è´ï¼šè¿åŒæ•°æ®ä¸€èµ·å¤åˆ¶
      Â Â Â Â Â å®ç°æ–¹å¼ï¼š
           
      
      1. JSON.stringfy() Â JSON.parse()
            2.é€’å½’å‡½æ•°å®ç°
      */

      var arr = [1, 2, 3]
      var arr2 = arr
      arr2[0] = 9
      console.log('arr-', arr) //arræ•°æ®è¢«æ”¹åŠ¨
      //è¿è¡Œç»“æœï¼šÂ arr- [9, 2, 3]
      console.log('arr2-', arr2)
      //è¿è¡Œç»“æœï¼šarr2-Â [9, 2, 3]
      //â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
      //â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
      var obj = { name: 'å°èœœç“œ', age: 20 }
      var obj2 = {
        name: 'å¤§çŒªå¤´',
        hobby: ['å¬æ­Œ', 'è·³èˆ', 'æ»‘é›ª'],
        pet: {
          type: 'dog',
          price: 250,
          name: 'AAå–µ',
        },
      }
      function Student(name, age) {
        this.name = name
        this.age = age
      }
      Student.prototype.hello = 'beauty'
      var peo = new Student('ç¾å¥³', 18)

      //â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
      function deepClone(obj) {
        let objClone = obj instanceof Array ? [] : {}
        //if åˆ¤æ–­ ç”¨ä»¥ é˜²æ­¢ç”¨æˆ·ä¸ä¼ æ•°æ®ï¼Œå³å€¼å­˜åœ¨ä¸”æ˜¯å¯¹è±¡
        if (obj && typeof obj === 'object') {
          for (var k in obj) {
            //ç»§æ‰¿çš„å±æ€§æ’é™¤ï¼Œä¸å¤åˆ¶
            if (obj.hasOwnProperty(k)) {
              // æ–¹å¼1 objClone[k] = obj[k]
              // æ–¹å¼2
              if (obj[k] && typeof obj[k] === 'object') {
                objClone[k] = deepClone(obj[k])
              } else {
                objClone[k] = obj[k]
              }
            }
          }
        }
        return objClone
      }
      /*
             //â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” æ£€éªŒ æ–¹å¼1
             var nobj1 = deepClone(obj)
             nobj1.name = 'å—·å—·'
             console.log(obj)
             //è¿è¡Œç»“æœï¼š{name: 'å°èœœç“œ', age: 20}
             ğŸ‹ objClone[k] = obj[k] æ·±å¤åˆ¶æˆåŠŸ
             var nobj2 = deepClone(obj2)
             nobj2.hobby[0] = 'æ’©å¦¹'
             console.log(obj2)
              //è¿è¡Œç»“æœï¼š{hobby: (3) ['æ’©å¦¹', 'è·³èˆ', 'æ»‘é›ª'],name: "å¤§çŒªå¤´",pet: {type: 'dog', price: 250, name: 'AAå–µ'}}
              ğŸ‹ objClone[k] = obj[k] æ·±å¤åˆ¶å¤±è´¥
              */
      //â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”æ£€éªŒ æ–¹å¼2
      var nobj2 = deepClone(obj2)
      nobj2.hobby[0] = 'æ‰“çƒ'
      console.log(obj2)
      //è¿è¡Œç»“æœ:{hobby: (3) ['å¬æ­Œ', 'è·³èˆ', 'æ»‘é›ª'],name: "å¤§çŒªå¤´",pet: {type: 'dog', price: 250, name: 'AAå–µ'}
      var peo2 = deepClone(peo)
      console.log(peo2) //{name: 'ç¾å¥³', age: 18, hello: 'beauty'}age: 18hello: "beauty"name: "ç¾å¥³"} æŠŠåŸå‹é“¾çš„å±æ€§ä¹Ÿæ‹¿åˆ°äº†
      //è§£å†³æ–¹å¼ï¼šä¸Šè¿°æ–¹æ³•æ·»åŠ  if (obj.hasOwnProperty(k)) {}å³å¯è§£å†³ ï¼Œä¿®æ”¹åç»“æœä¸º{name: 'ç¾å¥³', age: 18}
    </script>
  </body>
</html>
