<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>闭包</title>
    <style></style>
  </head>
  <body>
    <script>
      function add() {
        var a = 1
        function fn() {
          return a++
        }
        return fn
      }
      var c = add()
      console.log(c()) //1
      console.log(c()) //2
      console.log(c()) //3
      a = 100
      console.log(c()) //4

      /*  
      //js垃圾回收机制影响，此法a的值不会变，因为没有全局变量调用
      console.log(add()()) //1
      console.log(add()()) //1
      console.log(add()())//1
      console.log(add()())//1 
      */
    </script>
  </body>
</html>
